section.timeline {
  background-image: url("../images/agsquare.png");
  overflow: hidden;
  > div {
    @include wrapper;
    padding-top: 3em;
  }
}

.timeline-list {
  $line-width: 3px;
  $dot-diameter: 2em;
  $offset: - $dot-diameter / 2;
  $content-offset: 1.5em;

  @include strip-list;
  height: 100%;
  position: relative;
  // Vertical line
  &:after {
    content: "";
    width: $line-width;
    height: 100%;
    background: linear-gradient(left, transparent 0%,#444 50%,transparent 100%);
    position: absolute;
    top: 0;
    left: 50%;
  }
  // Items.
  > li {
    @include pie-clearfix;
    background-color: $primary;
    color: #FFF;
    position: relative;
    margin-bottom: 4em;
    // Dots.
    &:before {
      @include border-radius(3em);
      @include transition(all ease 0.25s);
      //@include box-shadow(0px 0px 0px 4px #FFF);
      content: "+";
      background-color: #CCC;
      text-align: center;
      line-height: 2em;
      font-weight: 200;
      font-size: 2em;
      color: rgba(255,255,255,.8);
      width: $dot-diameter;
      height: $dot-diameter;
      position: absolute;
      top:0;
      display: inline-block;
      z-index: 10;

    }
    &:hover:before {
      background-color: $secondary;
      cursor: pointer;
    }
    &.active:before {
      @include rotate(45deg);
      background-color: $secondary;
    }
    // Alignment.
    &:nth-of-type(2n) { // Right hand side items.
      text-align: left;
      margin-left: calc(50%);
      margin-right: 8%;
      padding-right: 1em;
      border-right: 10px solid $secondary;
      &:before {
        left: calc(#{$offset});
      }
      h3 {
        padding-left: $content-offset;
        float: left;
      }
      > div {
        margin-left: $content-offset * 1.6;
      }

    }
    &:nth-of-type(2n+1) { // Left hand side items.
      text-align: right;
      margin-right: calc(50%);
      margin-left: 8%;
      padding-left: 1em;
      border-left: 10px solid $secondary;
      &:before {
        right: calc(#{$offset});
      }
      h3 {
        padding-right: $content-offset;
        float: right;
      }
      > div {
        margin-right: $content-offset * 1.6;
      }
    }
    // Content.
    h3 {
      color: #FFF;
      line-height: 2.7em;
      display: inline;
      margin: 0;
      &:hover {
        cursor: pointer;
      }
    }
    > time, .time {
      display: inline-block;
      margin-top: 1.35em;
      margin-right: 0.5em;
      margin-left: 0.5em;
    }
    > div {
      clear: both;
      margin-top: 0.5em;
      max-height: 100em;
      //height: auto;
      overflow: auto;
      @include transition(all ease 2s);
      &.hidden {
        max-height: 0;
        height: 0;
        overflow: hidden;
      }
    }
  }
}

.timeline-entry {
  max-width: 70%;
  float: left;
  clear: both;
  background: #EEE;
  margin-bottom: 1em;
  padding: 0 1em;
  &:nth-of-type(2n) {
    float: right;
    h3 {
      text-align: right;
    }
    >span, >time {
      text-align: right;
    }
  }
}
